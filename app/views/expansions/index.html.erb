<%= render 'shared/slim_fast_navigation' %>

<h1>Expansions</h1>

<p>
  An expansion is a request for the destination url of a short url. Each time a short url is exapnded (either directly or via an API call) an expansion is created and the expansion count is incremented for the short url.
</p>

<% if @expansions.count > 0 %>
  <table class="table table-striped">
    <tr>
      <th>Short URL</th>
      <th>Request URL</th>
      <th>Referrer URL</th>
      <th>Remote IP</th>
      <th>Remote Address</th>
      <th>User Agent</th>
      <th></th>
    </tr>

  <% @expansions.each do |expansion| %>
    <tr>
      <td><%= expansion.short_url_id %></td>
      <td><%= expansion.request_url %></td>
      <td><%= expansion.referrer_url %></td>
      <td><%= expansion.remote_ip %></td>
      <td><%= expansion.remote_addr %></td>
      <td><%= expansion.user_agent %></td>
      <td>
        <%= link_to 'Show', expansion %>
        /
        <%= link_to 'Edit', edit_expansion_path(expansion) %>
      </td>
    </tr>
  <% end %>
  </table>

  <br />
<% else %>
  <p>
    There are no expansions.
  </p>
<% end %>
